
# COSC0009 操作系统 (HOT!)

[shockstove, 23Fall](https://github.com/shockstove):

**老师**：宫老师

**上课时间**：2023fall

**课程质量**：今年除了最开始几周的课之后都是宫老师在上，申请了三个共享教室+飞书会议授课，飞书会议的录屏会发在课程网站上（网站上还有好几年前开始每年的课程PPT、实验资料等等以及课程相关的阅读材料等）（回放可以三倍速还自动转了文字这个功能在复习周救我狗命）（虽然录频导致摄像头拍摄的一些板书基本上看不到但是结合老师的话应该能大概理解），所以如果之后蒲老师回来不再线上授课、飞书视频不删的话其实可以在一段时间内用作自学参考。宫老师的授课质量没得说，跟着老师思路走会很有学到东西的感觉。老师思路比较流动所以课后如果能复习整理一下会更有系统性的理解。

**实验部分**：1-3人小组完成，使用的是从THU版本移植过来的ucore,配有助教悉心改编和撰写的实验手册，每个实验的任务部分不难、少部分比较难的任务在代码上都告知要写什么内容。ucore总共有8个lab，本学期做完了lab1-5和lab8，lab6-7说是有兴趣的可以去尝试（虽然8有对lab6修改内容的部分依赖），总体看起来老师对lab完成数量应该算是比较满意的（？

ucore的实验可以在网上找到不少的参考资料，对于完成实验要求的ex有不少帮助。但是难点在于给助教检查，需要对该lab部分的整体运行情况（从哪里开始、到了哪里、调用了什么、实现了什么、某些重要参数的意义）有一个比较完善的认识，（建议走一遍过程的同时把对代码的理解也注释在上面这样答辩的时候能够辅助一下

虽然实验部分很折磨但是宫老师的实验部分（也就是50%成绩占比的部分）只要能认真做、检查的时候不要过于离谱，给分会令人满意的。今年在选课阶段就选了宫老师的课的人实验得分分布是：0-59.9【1】、80-90【12】、90-100【134】。今年考试题里面的实验部分问的问题是前几个lab里面的，印象里面也由助教提问过，实验答辩的时候可以留意一下

**考试部分**：今年题目都由宫老师出，题目相较于以前有了较大幅度的调整（老师本人所言），题目内容在评论区已经有同学说了，选择题基本上是比较简单的，计算题也没有408的那种难度，综合下来看只要对各种概念都能够理解的话答起来并不困难，而且试卷给分看起来是能给尽给，本人卷面自我感觉有一些错误但是总评依然是给到了97

**复习**：今年没有了蒲老师的精简版（一针见血版）复习PPT，宫老师的复习课总共接近三个小时，基本上是把课程内容都过了一遍，但是从试题情况来看，主要考察的都是比较基本的、一般化的内容，不会特意去考他可能就某节课讲了十分钟的内容，只要自己复习一遍也能大概感觉出来那些是出题的重点。

**评价**：OS作为一门大课，承接组成原理，和同一学期的体系结构也有相互关联的地方，如果能够学好的话对计算机软硬件检核部分的理解会有很大的提升。宫老师又是OS课程领域教学质量一流的老师，所以一定好好把握住这个机会，老师人很有意思，有兴趣的同学可以多和老师交流沟通，你会收获很多。



---

[mingxuZhang2, 23Fall](https://github.com/mingxuZhang2):

23fall 授课教师：gxl老师

成绩构成仍然是50%Ucore实验+50%期末考试

由于今年蒲老师生病了 所有的同学都是gxl带着的 老师开设了形如网课、多教室等方式进行授课 由于整体管理不易 所以老师也很少点名 虽说在某几节课中也象征性的点了点名）

上课体会：虽然不愿意承认 但是不得不说 宫老师的讲授确实很不错 尤其是在对os的基础概念有一些理解后 听老师讲课是醍醐灌顶式的 ppt也不是绝不是照本宣科 但这就导致了后期没听课复习看PPT觉得巨抽象巨晦涩...所以能听课还是尽量听课 尽量不要像lz一样 平时温水煮青蛙 期末喝掉洗脚水 坦白说期末女娲补天的难度还是比上学期的课程大很多的 无论是计网还是编译 亦或是操作系统 都是一样的

实验部分：实验很难 特别难 难度不仅仅是在配置环境等部分 更是答辩部分 可能很简单就能把YOUR CODE部分写出来 但是想清楚助教提出的问题并回答出来相当困难 尤其是可能会问到不知道在什么地方窜出来的函数的具体作用等 更让人昏迷 实验和理论虽然不说环环相扣 但是少了理论部分的指导会导致实验相当难做 不好上手 所以从这个角度也要建议后来人好好听课 实验中用到的每一个函数都要仔细考虑 都有可能问到 是真的抽象...btw实验全都是助教给分 如果仅从分数角度 建议和自己的同学串通一下 看看哪个助教问的问题比较简单 比较好答...虽然给分都很高就是了 And是一三人/二人为单位进行答辩 最后给分是分开给分的 可能同一组内的成员会有±0.5的分差 但是正如我前面提到的 有了challenge的情况下 拿满平时分的难度不大

btw看到之前的评论说期待改成Rust 老师上课还提到了这个问题 我只能说已经比较成体系的东西不要瞎改 现在做不出来或许还有的参考 一旦实验改革做一个全新的实验 没有任何学长学姐和友校代码的参考情况下 我不认为是对计网的一种减负 还需要重新了解熟悉Rust 在这学期有计网有编译的情况下 这么改除了让每天晚上宿舍熄灯时间变晚之外没有任何意义 现在的实验体系已经很好了 不要求卷实验报告 完全由答辩给分...

Challenge部分由于jwc的某些原因不清楚是否算在了期末总评里 以lz的分数为例 感觉是加了一部分的 毕竟文件管理大题错了一问 选择错了一些 加之一些莫名其妙的小错误可能卷面不会特别高 但是总评92 所以对于Challenge部分 建议同学们尽量做 毕竟就算不加在总分里也可以弥补本次实验答辩扣除的分数 编码部分的Challenge做完了会有意想不到的惊喜 如果实在不会 以得分的角度来做 可以直接阅读Lab Answer 然后自己思考应付助教的答辩部分

考试部分：本次考试3分选择*10 10分计算*4 15分综合设计*2 题型如下：

计算 1：PV信号量操作 互斥是什么？然后对程序加锁 尽可能避免延迟(有关线程全局变量和局部变量的) 比王道简单很多
计算 2：页面置换策略(FIFO/LRU)的轨迹 以及是否存在Belady(在这次考试里老师居然全是缺失...导致LRU和FIFO性能一致)
计算 3：页面管理：RISCV处理器的地址划分 是如何划分为页表的(sv39等 三级页表etc) 现代处理器不只有4KB大小的页 可能的设计是什么(1GB大大页 2MB大页 4KB小页) 老师复习PPT上的原图
计算 4：文件系统 一个inode能存储多少数据(直接存储 一级索引 二级索引) 访问某地址块的数据需要访问磁盘几次(完全类似王道的题目)

综合设计：
1. Restore_all和Save_all的代码以及syscall的部分 考的很具体 给了一堆代码 会问某部分的作用(eg.tf->epc+=4的作用) 以及某部分换掉是否可行(sret换成ret是否可以) syscall是如何确定参数的等等 需要对实验的代码有一定了解 本人sret这个肯定错了 就五分又没了 所以好像Challenge确实是有用的

2. NVD和DRAM的开放题 NVD怎么设计到存储体系中 我考虑的是类似于L1和L2cache的那样 不知道正确与否 最后一题感觉特别开放 估计老师给分很高 基本有些想法的都不会怎么扣分 前提是一定要写！！！

复习建议：由于本学期蒲老师生病 没有蒲老师的复习PPT 宫老师的复习范围很大 考前的复习课讲了2个半小时多 范围很多 但是考前一定要看一遍 比如那个页大小不固定就是从PPT里出来的 把图画上去估计就拿到分了 看了就有分 没看考场上好像很难想出来 由于有选择题了 可以参考部分王道题目 但是老师出题的taste和王道不太一样 喜欢出一些紧跟时事的事情 比如银行家算法在哪里搭载过 答案是都没有...由于我银行家算法没听课 所以这道题直接给了...计算题部分可以参考王道 题型特别类似 由有很大的参考价值 然后综合设计的难度主要在读代码上 平时的实验需要用心一些 不然就会直接g了 虽然我实验很用心但是还是g了hhhh 最后的最后 只要好好复习 王道大题稍微做一做 然后把老师的复习课听一下 基本没什么问题...期末考试考的比王道简单很多 除了那道昏迷的读代码之外）

---

[@TephrocactusHC, 22Fall](https://github.com/TephrocactusHC):

老师：蒲老师

上课时间：2022fall

课堂：这两个老师的课堂可谓完全不一样，宫老师的更好，讲的更明白。不点名，没有平时书面作业。

实验：ucore，要给助教检查，虽然很多人都在抄答案不过还是尽量把答案看懂，不然容易被扣分。

给分：同样很不好，整体比宫老师班平均低了5分，今年他这个班很多大神（实力强、GPA高），结果分数都不高。考虑到他的课没有宫老师讲的清楚，就不太合适了吧。反正给分有点雷。

总体评分：4.0/5.0，看在他那个针对性极强的复习课的份上给他4.0分。

选课建议：选宫老师的课，然后最后听蒲老师的复习课，是拿高分的唯一希望。如果选上蒲老师大概你的分数已经注定不会太好了。

*ps: 希望那个rust的os能够在今年做出来，明年把实验换了。*

pps: 我说他平均分比GXL平均分低了5分，反正也是个人身边统计结果，已经尽可能扩大了统计范围了。限于能力、精力、财力没有采取科学的统计方法，如果有哪个TA或者其他同学蹦出来杠，那就是你对，我承认我菜导致分数低，那些大神属于没重视和运气不好，和我情况不同。

---

[PP, 22fall](mailto:1741857712@qq.com):

**上课内容和作业：**
每一堂课都像是讲座一样，老师站位很高，如果能全神贯注听会有很多收获的。参考资料就是龙书还有老师分享的网站上也有很多的资料。平常是没有书面作业的，实验一共是5-6个，是小组合作的实验，参考的是清华ucore的实验体系和指导书，每次实验需要给助教讲解并回答助教的问题，并且完成实验报告。对于实验，认真听理论课，认真研究指导书，小组内部一定要合理分工认真完成，每个人都别水，因为最后答辩可能会问所有人。

**授课老师：** 蒲凌君老师，老师人很好，上课很有意思，平常上课无签到。

**考核内容：** 期末书面考试，今年疫情影响推迟了。

**建议：** 对于实验，建议认真听理论课，认真研究指导书，小组内部一定要合理分工认真完成，每个人都别水，因为最后答辩可能会问所有人。不得不说OS的助教团队相当完善和强大，如果哪里有问题一定及时问助教学长学姐，他们都超级奈斯的。虽然刚开始会觉得实验特别的难，但是通过一点点啃指导书，一点点查资料，听配套课程，会越来越得心应手，加油！

---

[@Hughshine, 19Fall](https://github.com/Hughshine):

宫老师是很负责的，也非常有系统的能力，热爱教学、热爱系统研究，是可以认真学习的课。一个补充材料，[南京大学jyy老师的操作系统课程](https://space.bilibili.com/202224425)，可以参考。

---

[@Lindsay403, 20Fall, 21Fall TA](https://github.com/Lindsay403):

【18级DP】 __利益相关：宫老师OS课的助教__  \
__授课质量：5/5__ 诚如前面同学说的，选蒲老师的课，去宫老师的教室学 = 轻松的实验 + 极高的课堂质量。\
我自己的角度，宫老师的课程在本科阶段绝对是TOP3值得上的（+编译 +计网 排名不分前后）你很难在其他课堂上遇到这样兼顾生动与实用的知识传递。在经典的OS设计思路之后，还会介绍一些流行的研究趋势/逸闻（还有毒鸡汤）。你也很难看到与同学如此亲近，real的老师，还有（我们那届）画风奇特的课程群。\
__去上课吧，不亏。__ \
__实验质量：？/5__ 咱是助教，咱也不敢评分。不过带来的一点含有内幕的真实：名义上说是“独立完成 Ucore”，但清华珠玉在前，18级NK也做了这个实验，不管是代码（官方都有答案），还是思路，甚至讲解，不用google/github，百度都能百度出一大把，大部分人如何完成的实验，助教心里也有数。在 __非常对不起各位19级的兄弟姐妹__ 地前两个Lab实验考核之后，我们意识到了出题的难度过高，后续几个Lab的难度都在下降，考核的难度 __以后也肯定会一步步改进__ 。“在理解后抄上了代码”，我们就很知足了。我不了解蒲老师的课到底有多轻松，但宫老师的实验课...也没有到“挑战自我”的程度——更像是努力一定有回报的代表。而且，学有所得，学有所得。\
__给分情况：5/5__ 尽管在我看来19年的实验考核要严格一些，最终给分，18和19两年分数分布区间却差不多。老师肯定有curve up。纯混子在两个老师的课上给分会有多大差距不太清楚，但 __不负责任__ 的我流观点是，愿意通过认真学习换取结果的同学，选宫老师的课有更大可能拿到更满意的分数。\
__备考指南：__ 考前我做了408（只做了计算题的几页，概念完全没时间做）。但Lock那一块考的非常简单，没有达到考研难度。往年试卷（我只做过陈年试卷04/05/06）几乎没有用处，大题的变化很大。听课，理解（用脑子理解，不用做笔记！），考前猛灌一波概念 = 90+ / even 95+ \
__其他：__ OS是重课。宫老师的Lab做好，是可以放进找实习/找工作/申研究生的简历里的，有这方面想法的同学可以提前了解一下。\
Anyway, 选宫老师 = 好成绩 + 未来收益 \
欢迎同学们来选呀！（未来Lab也不会这么难了！）

---

[@emanual20, 20Fall](https://github.com/Emanual20):

宫老师的OS课程质量非常高，听他讲课你会感觉每节课都在听学术报告，但需要注意的是，把握每节课课程的重点，自己需要提前对知识主线有一个了解。否则会引起听“学术报告”的通病，走马观花，眼高手低。

期末并不需要很担心，也并不太需要参考往年卷子，范围给的很详细，认真一点复习可以得到很高的分数。其中考察了实验作业的部分，还是需要很好理解一些平时实验中的问题。

---

[@a-fake-admin](https://github.com/a-fake-admin):

蒲老师的操作系统课程，我觉得讲课挺好的，印象最深刻的就是当时老师讲内存管理的时候，在黑板上画了很多图，解释的很清楚。

期末两个老师都会给同学们讲解考试的大概范围，认真按照老师的指导好好复习，最终结果肯定不会亏待你的。

---

[@Rainefly, 20Fall](https://github.com/Rainefly):

宫老师的课会让你觉得 “这个老师已经把 os 看透了”，讲得举重若轻、信手拈来。不过，虽然老师讲得轻松，但 os 本身的难度没有变，所以课上得先跟着老师思路听完，课后再多自己夯实细节，尤其是内存管理等，是绝对的重点。建议可以看看考研的资料，对 os 有个系统的了解。

期末考试前，老师会给重点，基本上考试范围都在里面，很 match。如果不知道做什么题的话，也可以参考考研的题（虽然宫老师对考研试题嗤之以鼻，但是不得不感慨，考研题的题型很有参考价值，比如内存相关的计算题、经典 PV 问题等）。也有 ucore 里面的细节题，所以平时做 lab 还是要搞清楚原理的。好好复习，完全可以拿到很不错的分数。
